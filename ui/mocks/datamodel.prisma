type Token {
    id: ID! @id
    symbol: String!
    description: String!
    image: String
    amount: Float

    owner: User
    isChallenged: Boolean
    challenges: [Challenge]
    isWhitelistedMember: Boolean
 
    totalVotes: Int
    reputation: Int

    votes: [Vote] @derivedFrom(field: "tokenID")
    createdAt: DateTime! @createdAt
}

type Challenge {
    id: ID! @id
    description: String
    createdAt: DateTime! @createdAt
    votesFor: Int
    votesAgainst: Int
    token: Token
    owner: String
    resolved: Boolean
    votes: [Vote] @derivedFrom(field: "challengeID")
}

type Vote {
    id: ID! @id
    challenge: Challenge!
    choice: Choice!
}

type User {
  id: ID! @id
  name: String
  bio: String
  tokens: [Token]
  challenges: [Challenge] 
  votes: [Vote] @relation(name: "UserVote")
}

enum Choice {
  RemoveToken
  KeepToken
}